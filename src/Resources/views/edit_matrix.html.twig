{% extends batch_entity_import_template('layout') %}

{% block batch_entity_import_content %}
    {% form_theme form 'bootstrap_3_layout.html.twig' %}

    <div class="table-responsive">
        {{ form_start(form) }}
        <table class="table">
            <tr>
                {% if importConfiguration.allowOverrideEntity %}<th>{{ 'matrix.header.label.override'|trans({}, 'BatchEntityImportBundle') }}</th>{% endif %}
                {% for name, exists in header_info %}
                    <th style="min-width: 150px;">
                        {% if not exists %}
                            <div>{{ 'matrix.header.label.unknown'|trans({}, 'BatchEntityImportBundle') }}</div>
                        {% endif %}

                        {{ name }}
                    </th>
                {% endfor %}
            </tr>

            {% for record in form.records %}
                <tr>
                    {% for elem in record.children %}
                        <td>
                            <div class="form-group {% if form_errors(elem) %}has-error"{% endif %}">
                                {{ form_widget(elem) }}
                                {{ form_errors(elem) }}
                            </div>
                        </td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </table>
        <button type="submit" id="btn-submit" class="btn btn-default">{{ 'form.button.import'|trans({}, 'BatchEntityImportBundle') }}</button>
        {{ form_end(form) }}
    </div>
{% endblock %}
